<!doctype html><html lang=en><head><meta charset=utf-8><meta name=description content="Mantenimiento de copias de la informaci√≥n en m√∫ltiples computadores
  Es un recurso utilizado ampliamente en sistemas distribuidos
  Servidores web: servidores cach√© y proxies"><title>üü£ Replicacion</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" type=image/png href=https://h0oe.github.io/sistemas-distribuidos//icon.png><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Source+Sans+Pro:wght@400;600;700&family=Fira+Code:wght@400;700&display=swap" rel=stylesheet><link href=https://h0oe.github.io/sistemas-distribuidos/styles.8010c0d8fb32a34f00886b05df3d230c.min.css rel=stylesheet><script src=https://h0oe.github.io/sistemas-distribuidos/js/darkmode.46b07878b7f5d9e26ad7a3c40f8a0605.min.js></script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css integrity=sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js integrity=sha384-z1fJDqw8ZApjGO3/unPWUPsIymfsJmyrDVWC8Tv/a1HeOtGmkwNd/7xUS0Xcnvsx crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous></script>
<script src=https://h0oe.github.io/sistemas-distribuidos/js/popover.688c5dcb89a57776d7f1cbeaf6f7c44b.min.js></script>
<script>const BASE_URL="https://h0oe.github.io/sistemas-distribuidos/",fetchData=Promise.all([fetch("https://h0oe.github.io/sistemas-distribuidos/indices/linkIndex.0a3100ea17941fa3eb485aeec6b0da05.min.json").then(e=>e.json()).then(e=>({index:e.index,links:e.links})),fetch("https://h0oe.github.io/sistemas-distribuidos/indices/contentIndex.9f8b06a8842638572c699936f50ba209.min.json").then(e=>e.json())]).then(([{index:e,links:t},n])=>({index:e,links:t,content:n})),render=()=>{const n=new URL("https://h0oe.github.io/sistemas-distribuidos/"),s=n.pathname,o=window.location.pathname,i=s==o,e=document.getElementById("graph-container");if(!e)return requestAnimationFrame(render);e.textContent="";const t=i&&!1;drawGraph("https://h0oe.github.io/sistemas-distribuidos",t,[{"/moc":"#4388cc"}],t?{centerForce:1,depth:-1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.5,linkDistance:1,opacityScale:3,repelForce:1,scale:1.4}:{centerForce:1,depth:1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.6,linkDistance:1,opacityScale:3,repelForce:2,scale:1.2}),initPopover("https://h0oe.github.io/sistemas-distribuidos",!0,!0)},init=(e=document)=>{renderMathInElement(e.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],throwOnError:!1})}</script><script type=module>
    import { attachSPARouting } from "https:\/\/h0oe.github.io\/sistemas-distribuidos\/js\/router.557a499829be51f9008c6efa5b73602a.min.js"
    attachSPARouting(init, render)
  </script></head><script async src="https://www.googletagmanager.com/gtag/js?id=G-XYFD95KB4J"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-XYFD95KB4J",{anonymize_ip:!1})}</script><body><div id=search-container><div id=search-space><input autocomplete=off id=search-bar name=search type=text aria-label=Search placeholder="Search for something..."><div id=results-container></div></div></div><script src=https://cdn.jsdelivr.net/npm/flexsearch@0.7.21/dist/flexsearch.bundle.js integrity="sha256-i3A0NZGkhsKjVMzFxv3ksk0DZh3aXqu0l49Bbh0MdjE=" crossorigin=anonymous defer></script>
<script defer src=https://h0oe.github.io/sistemas-distribuidos/js/search.cf33b507388f3dfd5513a2afcda7af41.min.js></script><div class=singlePage><header><h1 id=page-title><a href=https://h0oe.github.io/sistemas-distribuidos/>ü™¥ Sistemas Distribuidos</a></h1><svg tabindex="0" id="search-icon" aria-labelledby="title desc" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title id="title">Search Icon</title><desc id="desc">Icon to open search</desc><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"/><circle cx="8" cy="8" r="7"/></g></svg><div class=spacer></div><div class=darkmode><input class=toggle id=darkmode-toggle type=checkbox tabindex=-1>
<label id=toggle-label-light for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="dayIcon" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35"><title>Light Mode</title><path d="M6 17.5C6 16.672 5.328 16 4.5 16h-3C.672 16 0 16.672.0 17.5S.672 19 1.5 19h3C5.328 19 6 18.328 6 17.5zM7.5 26c-.414.0-.789.168-1.061.439l-2 2C4.168 28.711 4 29.086 4 29.5 4 30.328 4.671 31 5.5 31c.414.0.789-.168 1.06-.44l2-2C8.832 28.289 9 27.914 9 27.5 9 26.672 8.329 26 7.5 26zm10-20C18.329 6 19 5.328 19 4.5v-3C19 .672 18.329.0 17.5.0S16 .672 16 1.5v3C16 5.328 16.671 6 17.5 6zm10 3c.414.0.789-.168 1.06-.439l2-2C30.832 6.289 31 5.914 31 5.5 31 4.672 30.329 4 29.5 4c-.414.0-.789.168-1.061.44l-2 2C26.168 6.711 26 7.086 26 7.5 26 8.328 26.671 9 27.5 9zM6.439 8.561C6.711 8.832 7.086 9 7.5 9 8.328 9 9 8.328 9 7.5c0-.414-.168-.789-.439-1.061l-2-2C6.289 4.168 5.914 4 5.5 4 4.672 4 4 4.672 4 5.5c0 .414.168.789.439 1.06l2 2.001zM33.5 16h-3c-.828.0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5h3c.828.0 1.5-.672 1.5-1.5S34.328 16 33.5 16zM28.561 26.439C28.289 26.168 27.914 26 27.5 26c-.828.0-1.5.672-1.5 1.5.0.414.168.789.439 1.06l2 2C28.711 30.832 29.086 31 29.5 31c.828.0 1.5-.672 1.5-1.5.0-.414-.168-.789-.439-1.061l-2-2zM17.5 29c-.829.0-1.5.672-1.5 1.5v3c0 .828.671 1.5 1.5 1.5s1.5-.672 1.5-1.5v-3C19 29.672 18.329 29 17.5 29zm0-22C11.71 7 7 11.71 7 17.5S11.71 28 17.5 28 28 23.29 28 17.5 23.29 7 17.5 7zm0 18c-4.136.0-7.5-3.364-7.5-7.5s3.364-7.5 7.5-7.5 7.5 3.364 7.5 7.5S21.636 25 17.5 25z"/></svg></label><label id=toggle-label-dark for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="nightIcon" viewBox="0 0 100 100" style="enable-background='new 0 0 100 100'"><title>Dark Mode</title><path d="M96.76 66.458c-.853-.852-2.15-1.064-3.23-.534-6.063 2.991-12.858 4.571-19.655 4.571C62.022 70.495 50.88 65.88 42.5 57.5 29.043 44.043 25.658 23.536 34.076 6.47c.532-1.08.318-2.379-.534-3.23-.851-.852-2.15-1.064-3.23-.534-4.918 2.427-9.375 5.619-13.246 9.491-9.447 9.447-14.65 22.008-14.65 35.369.0 13.36 5.203 25.921 14.65 35.368s22.008 14.65 35.368 14.65c13.361.0 25.921-5.203 35.369-14.65 3.872-3.871 7.064-8.328 9.491-13.246C97.826 68.608 97.611 67.309 96.76 66.458z"/></svg></label></div></header><article><h1>üü£ Replicacion</h1><p class=meta>Last updated June 29, 2022</p><ul class=tags></ul><aside class=mainTOC><details><summary>Table of Contents</summary><nav id=TableOfContents><ol><li><a href=#transparencia>Transparencia</a></li><li><a href=#consistencia>Consistencia</a></li><li><a href=#objeto>Objeto</a></li><li><a href=#objeto-l√≥gico>Objeto l√≥gico</a></li><li><a href=#gestor-de-r√©plicas>Gestor de r√©plicas</a></li><li><a href=#frontal>Frontal</a></li><li><a href=#petici√≥n>Petici√≥n</a></li><li><a href=#tolerancia-a-fallos>Tolerancia a fallos</a><ol><li><a href=#replicaci√≥n-pasiva>Replicaci√≥n pasiva</a></li><li><a href=#replicaci√≥n-activa>Replicaci√≥n Activa</a></li></ol></li><li><a href=#alta-disponibilidad>Alta disponibilidad</a><ol><li><a href=#convergencia>Convergencia</a></li><li><a href=#consistencia-1>Consistencia</a></li></ol></li><li><a href=#consenso-por-quorum>Consenso por Quorum</a><ol><li></li></ol></li><li><a href=#cl√∫ster>Cl√∫ster</a><ol><li><a href=#ventajas>Ventajas</a></li><li><a href=#qu√©-necesita-para-servir>Qu√© necesita para servir</a></li></ol></li></ol></nav></details></aside><p>Mantenimiento de copias de la informaci√≥n en m√∫ltiples computadores</p><ul><li><p>Es un recurso utilizado ampliamente en sistemas distribuidos</p></li><li><p>Servidores web: servidores cach√© y proxies</p></li><li><p>DNS: copias de los mapeos URL-IP, actualizadas diariamente</p></li><li><p>Google: Google Data Centers
Ayuda a mejorar un SD en distintos aspectos:</p></li><li><p>Rendimiento</p></li><li><p>Disponibilidad</p></li><li><p>Tolerancia a fallos</p></li><li><p>Se da principalmente a trav√©s de cach√©s en clientes o servidores</p></li><li><p>Mantener copias de los resultados obtenidos en llamadas anteriores al servicio reduce el coste de llamadas id√©nticas. Evita el tiempo de latencia del c√°lculo del resultado o de las consultas a otros servidores</p></li><li><p>La replicaci√≥n de datos inmutables es trivial</p></li><li><p>La replicaci√≥n de datos cambiantes (frecuentes en la red) conlleva un coste en protocolos de intercambio y actualizaci√≥n, que pueden limitar la efectividad de la r√©plica</p></li></ul><p><img src=/sistemas-distribuidos/Examen3/images/replica.jpg alt=Caracteristicas></p><a href=#transparencia><h2 id=transparencia><span class=hanchor arialabel=Anchor># </span>Transparencia</h2></a><p>Los clientes no son conscientes de que hay m√∫ltiples copias del recurso al que acceden para los clientes, solo existen recursos l√≥gicos individuales</p><a href=#consistencia><h2 id=consistencia><span class=hanchor arialabel=Anchor># </span>Consistencia</h2></a><p>Las operaciones sobre un conjunto de objetos replicados deben dar resultados que sigan
la especificaci√≥n de correcci√≥n definida para dichos objetos</p><a href=#objeto><h2 id=objeto><span class=hanchor arialabel=Anchor># </span>Objeto</h2></a><p>Cualquier entidad de informaci√≥n a replicar: Archivos, objetos Java, etc.</p><a href=#objeto-l√≥gico><h2 id=objeto-l√≥gico><span class=hanchor arialabel=Anchor># </span>Objeto l√≥gico</h2></a><p>Entidad de informaci√≥n visible por el usuario, implementada por distintas copias f√≠sicas o r√©plicas. Las r√©plicas de un objeto l√≥gico no tienen por qu√© ser todas
iguales en todo momento.</p><p>Ejemplo: algunas pueden haberse actualizado y otras no</p><ul><li>Sistema as√≠ncrono</li><li>Los procesos fallan solo por ca√≠da</li></ul><a href=#gestor-de-r√©plicas><h2 id=gestor-de-r√©plicas><span class=hanchor arialabel=Anchor># </span>Gestor de r√©plicas</h2></a><p>Componentes que almacenan r√©plicas de un determinado objeto o servicio y operan sobre ellas.</p><a href=#frontal><h2 id=frontal><span class=hanchor arialabel=Anchor># </span>Frontal</h2></a><p>Componente que atiende las llamadas de los clientes y se comunica con los gestores de r√©plicas.</p><a href=#petici√≥n><h2 id=petici√≥n><span class=hanchor arialabel=Anchor># </span>Petici√≥n</h2></a><ol><li>Petici√≥n: El frontal env√≠a la petici√≥n a un gestor o bien env√≠a la petici√≥n a un gestor y este reenv√≠a a otros o multidifunde la petici√≥n a varios gestores</li><li>Coordinaci√≥n: los gestores se coordinan para ejecutar la petici√≥n de manera consistente</li><li>Ejecuci√≥n: se ejecuta la petici√≥n (puede ser de forma tentativa)</li><li>Acuerdo: se llega a un consenso antes de consumar la ejecuci√≥n</li><li>Respuesta: uno o m√°s gestores de r√©plicas responden al frontal</li></ol><a href=#tolerancia-a-fallos><h2 id=tolerancia-a-fallos><span class=hanchor arialabel=Anchor># </span>Tolerancia a fallos</h2></a><ul><li>Una alta disponibilidad no implica necesariamente correcci√≥n</li><li>Puede haber datos no actualizados, o inconsistentes (concurrencia)</li><li>Podemos utilizar replicaci√≥n para ganar tolerancia a fallos, parada o ca√≠da</li><li>Si tenemos n servidores, pueden fallar n-1 sin alterar el servicio</li><li>Fallo bizantino:c</li></ul><p>Deben proporcionar un servicio correcto, aunque fallen n procesos, mediante la replicaci√≥n de datos y la funcionalidad asociada a los gestores de r√©plicas, de dos modelos principales:</p><ul><li>Replicaci√≥n pasiva o primario-respaldo</li><li>Replicaci√≥n activa</li></ul><a href=#replicaci√≥n-pasiva><h3 id=replicaci√≥n-pasiva><span class=hanchor arialabel=Anchor># </span>Replicaci√≥n pasiva</h3></a><p>Un gestor de r√©plicas primario y uno o m√°s gestores secundarios (‚Äòrespaldos‚Äô o ‚Äòesclavos‚Äô)</p><ul><li>Los frontales solo se comunican con el gestor primario</li><li>Ejecuta las operaciones y manda copias a los respaldos</li><li>Si el primario falla, uno de los respaldos promociona a primario</li></ul><a href=#fases><h4 id=fases><span class=hanchor arialabel=Anchor># </span>Fases</h4></a><ol><li>Petici√≥n: el frontal env√≠a la petici√≥n al gestor primario</li><li>Coordinaci√≥n: el gestor primario ejecuta las peticiones siguiendo una ordenaci√≥n FIFO</li><li>Ejecuci√≥n: se ejecuta la petici√≥n y se almacena la respuesta</li><li>Acuerdo: si es una petici√≥n de actualizaci√≥n, el gestor primario env√≠a la actualizaci√≥n a todos los respaldos, que confirman la recepci√≥n</li><li>Respuesta: el gestor primario responde al frontal</li></ol><a href=#an√°lisis><h4 id=an√°lisis><span class=hanchor arialabel=Anchor># </span>An√°lisis</h4></a><ul><li>Tolera fallos de proceso (gestor primario o respaldos)</li><li>No tolera fallos bizantinos</li><li>El frontal requiere poca funcionalidad</li><li>Al controlar el orden de modificaci√≥n mediante el gestor primario, mantiene la consistencia secuencial</li><li>Problemas de cuello de botella en el gestor primario</li><li>Actualizaci√≥n de todos los respaldos antes de dar respuesta</li><li>Los respaldos no dan servicio directo</li></ul><a href=#replicaci√≥n-activa><h3 id=replicaci√≥n-activa><span class=hanchor arialabel=Anchor># </span>Replicaci√≥n Activa</h3></a><p>Todos los gestores de r√©plicas tienen el mismo papel los frontales multidifunden las peticiones a todos los gestores, los gestores de r√©plicas procesan la petici√≥n de manera independiente, pero id√©ntica.</p><a href=#fases-1><h4 id=fases-1><span class=hanchor arialabel=Anchor># </span>Fases</h4></a><ol><li>Petici√≥n: el frontal multidifunde la petici√≥n a los gestores. Se utiliza multidifusi√≥n fiable y de ordenaci√≥n total*. No env√≠a otra petici√≥n hasta que recibe la respuesta a la actual</li><li>Coordinaci√≥n: el sistema de comunicaci√≥n entrega la petici√≥n a todos los gestores seg√∫n una ordenaci√≥n total (multidifusi√≥n)</li><li>Ejecuci√≥n: cada gestor ejecuta la petici√≥n</li><li>Acuerdo: no es necesaria, debido al tipo de multidifusi√≥n</li><li>Respuesta: cada gestor manda su respuesta al frontal. El n¬∫ de respuestas que recoge el frontal depende de las asunciones de fallo y del algoritmo de multidifusi√≥n</li></ol><p><img src=/sistemas-distribuidos/Examen3/images/rdp2.png alt=Caracteristicas>
<img src=/sistemas-distribuidos/Examen3/images/rdp.png alt=Caracteristicas></p><a href=#alta-disponibilidad><h2 id=alta-disponibilidad><span class=hanchor arialabel=Anchor># </span>Alta disponibilidad</h2></a><p>La proporci√≥n de tiempo que un servicio est√° accesible con tiempos de respuesta razonables debe ser ~ 100%</p><ul><li>Factores de p√©rdida de disponibilidad</li><li>Fallos en el servidor</li><li>Si un servidor tiene una posibilidad de fallo p del 5%, tendr√° disponibilidad del 95%<ul><li>Si replicamos n veces el servidor, la disponibilidad ser√° 1-pn</li><li>Con n=2 servidores: 1 - 0.052 = 99.75%</li></ul></li><li>Particiones de red o desconexiones</li><li>Desconexi√≥n intencionada (p. ej. BitTorrent) o no intencionada (p. ej. conexi√≥n inal√°mbrica viajando en bus)
<img src=/sistemas-distribuidos/Examen3/images/disp.png alt=Caracteristicas></li></ul><a href=#convergencia><h3 id=convergencia><span class=hanchor arialabel=Anchor># </span>Convergencia</h3></a><p>Todas las r√©plicas del documento tienen que ser iguales tras aplicar todas las operaciones.</p><a href=#consistencia-1><h3 id=consistencia-1><span class=hanchor arialabel=Anchor># </span>Consistencia</h3></a><p>Las operaciones deben aplicarse en el mismo orden en todos los nodos</p><ul><li>Bas√°ndose en la relaci√≥n ‚Äòsucede antes que‚Äô</li><li>No lo garantiza TO ‚Üí uso de ordenaci√≥n causal</li></ul><a href=#intenci√≥n><h4 id=intenci√≥n><span class=hanchor arialabel=Anchor># </span>Intenci√≥n</h4></a><p>El efecto de ejecutar una operaci√≥n debe ser el mismo que el efecto buscado en la r√©plica local sobre la que se aplica inicialmente.</p><a href=#consenso-por-quorum><h2 id=consenso-por-quorum><span class=hanchor arialabel=Anchor># </span>Consenso por Quorum</h2></a><a href=#operaci√≥n-de-lectura><h4 id=operaci√≥n-de-lectura><span class=hanchor arialabel=Anchor># </span>Operaci√≥n de lectura</h4></a><ul><li>Recuperar un qu√≥rum de lectura (cualquier conjunto de r copias)</li><li>De las r copias, seleccionar la copia con el n.¬∫ de versi√≥n m√°s alto</li><li>Retornar el valor de dicha copia</li></ul><a href=#operaci√≥n-de-escritura><h4 id=operaci√≥n-de-escritura><span class=hanchor arialabel=Anchor># </span>Operaci√≥n de escritura</h4></a><ul><li>Tomar un qu√≥rum de escritura (cualquier conjunto de w copias)</li><li>De las w copias, obtener el n.¬∫ de versi√≥n m√°s alto</li><li>Incrementar el n¬∫ de versi√≥n</li><li>Escribir el nuevo valor y el nuevo n.¬∫ de versi√≥n en todas las w copias del qu√≥rum de escritura
<img src=/sistemas-distribuidos/Examen3/images/quo.webp alt=Caracteristicas></li></ul><a href=#cl√∫ster><h2 id=cl√∫ster><span class=hanchor arialabel=Anchor># </span>Cl√∫ster</h2></a><p>Este tipo de sistemas se basa en la uni√≥n de varios servidores que trabajan como si de uno √∫nicamente se tratase. Los sistemas cl√∫ster han evolucionado mucho desde su primera aparici√≥n, ahora se pueden crear distintos tipos de cl√∫steres, en funci√≥n de lo que se necesite:</p><ul><li>Uni√≥n de Hardware</li><li>Cl√∫steres de Software</li><li>Alto rendimiento de bases de datos</li></ul><p><img src=/sistemas-distribuidos/Examen3/images/cluster.png alt=Caracteristicas>
Estas son solo algunas de las opciones que tenemos disponibles. En resumen, cluster es un grupo de m√∫ltiples ordenadores unidos mediante una red de alta velocidad, de tal forma que el conjunto es visto como un √∫nico ordenador, m√°s potente que los comunes de escritorio</p><ul><li>Alto rendimiento</li><li>Alta disponibilidad</li><li>Equilibrio de carga</li><li>Escalabilidad</li></ul><a href=#ventajas><h3 id=ventajas><span class=hanchor arialabel=Anchor># </span>Ventajas</h3></a><ul><li>Relaci√≥n costo/performance.</li><li>Escalabilidad incremental.</li><li>Escalabilidad incremental.</li><li>Sistema ‚Äúmultiprop√≥sito‚Äù (no dedicado)</li></ul><a href=#desventajas><h4 id=desventajas><span class=hanchor arialabel=Anchor># </span>DESVENTAJAS</h4></a><p>Ninguna, este tipo de sistemas son los m√°s fiables, ya que para la parada total del proceso deben de pararse todas las m√°quinas que componen el grupo. Es la mejor soluci√≥n para crecer seg√∫n las necesidades reales, porque puede a√±adir tantas m√°quinas necesite.</p><a href=#qu√©-necesita-para-servir><h3 id=qu√©-necesita-para-servir><span class=hanchor arialabel=Anchor># </span>Qu√© necesita para servir</h3></a><p>Por norma general, un cl√∫ster hace uso de diferentes componentes para funcionar, entre estos est√°n:</p><ul><li>Nodos (Ordenadores o servidores)</li><li>Sistema operativo</li><li>Conexi√≥n de Red (ampliado m√°s abajo)</li><li>Middleware (capa entre el usuario y el sistema operativo)</li><li>Protocolos de comunicaci√≥n y servicio</li><li>Aplicaciones</li></ul></article><hr><div id=contact_buttons><footer><p>Made by Joel Jarro, ¬© 2022</p><ul><li><a href=/sistemas-distribuidos>Home</a></li></ul></footer></div></div></body></html>